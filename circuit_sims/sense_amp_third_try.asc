Version 4
SHEET 1 5924 2320
WIRE 240 -432 -752 -432
WIRE 448 -432 240 -432
WIRE 496 -432 448 -432
WIRE 880 -432 496 -432
WIRE 1248 -432 880 -432
WIRE 1584 -432 1248 -432
WIRE 2944 -432 1584 -432
WIRE 3280 -432 2944 -432
WIRE 4064 -432 3280 -432
WIRE 4272 -432 4064 -432
WIRE 4320 -432 4272 -432
WIRE 4704 -432 4320 -432
WIRE 5072 -432 4704 -432
WIRE 5408 -432 5072 -432
WIRE 240 -336 240 -432
WIRE 448 -336 448 -432
WIRE 4064 -336 4064 -432
WIRE 4272 -336 4272 -432
WIRE 880 -320 880 -432
WIRE 880 -320 784 -320
WIRE 992 -320 880 -320
WIRE 1584 -320 1584 -432
WIRE 4704 -320 4704 -432
WIRE 4704 -320 4608 -320
WIRE 4816 -320 4704 -320
WIRE 5408 -320 5408 -432
WIRE 2944 -288 2944 -432
WIRE 3280 -288 3280 -432
WIRE 3168 -272 2992 -272
WIRE 3232 -272 3168 -272
WIRE 784 -240 784 -320
WIRE 992 -240 992 -320
WIRE 1248 -240 1248 -432
WIRE 4608 -240 4608 -320
WIRE 4816 -240 4816 -320
WIRE 5072 -240 5072 -432
WIRE 880 -224 832 -224
WIRE 944 -224 880 -224
WIRE 4704 -224 4656 -224
WIRE 4768 -224 4704 -224
WIRE 1584 -144 1584 -240
WIRE 5408 -144 5408 -240
WIRE 3168 -128 3168 -272
WIRE 3280 -128 3280 -192
WIRE 3280 -128 3168 -128
WIRE 2944 -112 2944 -192
WIRE 2944 -112 2864 -112
WIRE 3040 -112 2944 -112
WIRE 784 -96 784 -144
WIRE 880 -96 880 -224
WIRE 880 -96 784 -96
WIRE 992 -96 992 -144
WIRE 1088 -96 992 -96
WIRE 1520 -96 1392 -96
WIRE 4608 -96 4608 -144
WIRE 4704 -96 4704 -224
WIRE 4704 -96 4608 -96
WIRE 4816 -96 4816 -144
WIRE 4880 -96 4816 -96
WIRE 4912 -96 4880 -96
WIRE 5344 -96 5216 -96
WIRE 240 -80 240 -256
WIRE 2256 -80 2032 -80
WIRE 2368 -80 2256 -80
WIRE 3216 -80 2448 -80
WIRE 4064 -80 4064 -256
WIRE 2864 -48 2864 -112
WIRE 3040 -48 3040 -112
WIRE 176 -32 32 -32
WIRE 2816 -32 2720 -32
WIRE 3216 -32 3216 -80
WIRE 3216 -32 3088 -32
WIRE 3632 -32 3488 -32
WIRE 3728 -32 3632 -32
WIRE 4000 -32 3808 -32
WIRE 2256 0 2176 0
WIRE 2528 0 2256 0
WIRE 2720 0 2720 -32
WIRE 2720 0 2608 0
WIRE 448 64 448 -256
WIRE 4272 64 4272 -256
WIRE 3136 80 2752 80
WIRE 3280 80 3280 -128
WIRE 3280 80 3136 80
WIRE 384 112 160 112
WIRE 2864 112 2864 48
WIRE 3040 112 3040 48
WIRE 4208 112 3984 112
WIRE 2752 128 2752 80
WIRE 2816 128 2752 128
WIRE 3136 128 3136 80
WIRE 3136 128 3088 128
WIRE 784 144 784 -96
WIRE 992 144 992 -96
WIRE 4608 144 4608 -96
WIRE 4816 144 4816 -96
WIRE 1584 176 1584 -48
WIRE 1664 176 1584 176
WIRE 1824 176 1744 176
WIRE 3280 176 3280 80
WIRE 5408 176 5408 -48
WIRE 5488 176 5408 176
WIRE 5648 176 5568 176
WIRE 1248 192 1248 -160
WIRE 1392 192 1248 192
WIRE 5072 192 5072 -160
WIRE 5216 192 5072 192
WIRE -256 224 -480 224
WIRE -144 224 -256 224
WIRE 32 224 32 -32
WIRE 32 224 -64 224
WIRE 240 224 240 16
WIRE 736 224 240 224
WIRE 1120 224 1040 224
WIRE 4064 224 4064 16
WIRE 4560 224 4064 224
WIRE 4944 224 4864 224
WIRE 3040 256 3040 208
WIRE 3136 256 3040 256
WIRE -256 272 -336 272
WIRE 16 272 -256 272
WIRE 160 272 160 112
WIRE 160 272 96 272
WIRE 448 272 448 160
WIRE 1120 272 1120 224
WIRE 1120 272 448 272
WIRE 2864 272 2864 208
WIRE 2944 272 2864 272
WIRE 3728 272 3632 272
WIRE 3984 272 3984 112
WIRE 3984 272 3808 272
WIRE 4272 272 4272 160
WIRE 4944 272 4944 224
WIRE 4944 272 4272 272
WIRE 1584 288 1584 176
WIRE 5408 288 5408 176
WIRE 784 304 784 240
WIRE 896 304 784 304
WIRE 992 304 992 240
WIRE 992 304 896 304
WIRE 1248 304 1248 192
WIRE 1248 304 1136 304
WIRE 2864 304 2864 272
WIRE 3040 304 3040 256
WIRE 4608 304 4608 240
WIRE 4720 304 4608 304
WIRE 4816 304 4816 240
WIRE 4816 304 4720 304
WIRE 5072 304 5072 192
WIRE 5072 304 4960 304
WIRE -752 336 -752 -432
WIRE -480 336 -480 224
WIRE -336 336 -336 272
WIRE 896 336 896 304
WIRE 1248 336 1248 304
WIRE 2032 336 2032 -80
WIRE 2176 336 2176 0
WIRE 4720 336 4720 304
WIRE 5072 336 5072 304
WIRE 1392 352 1392 192
WIRE 5216 352 5216 192
WIRE 240 368 240 224
WIRE 448 368 448 272
WIRE 4064 368 4064 224
WIRE 4272 368 4272 272
WIRE 2944 384 2944 272
WIRE 2944 384 2912 384
WIRE 2992 384 2944 384
WIRE 1136 416 1136 304
WIRE 1136 416 944 416
WIRE 1200 416 1136 416
WIRE 4960 416 4960 304
WIRE 4960 416 4768 416
WIRE 5024 416 4960 416
WIRE -480 496 -480 416
WIRE -416 496 -480 496
WIRE -336 496 -336 416
WIRE -336 496 -416 496
WIRE 2032 496 2032 416
WIRE 2096 496 2032 496
WIRE 2176 496 2176 416
WIRE 2176 496 2096 496
WIRE 2864 496 2864 400
WIRE 2960 496 2864 496
WIRE 3040 496 3040 400
WIRE 3040 496 2960 496
WIRE 3488 496 3488 -32
WIRE 3552 496 3488 496
WIRE 3632 496 3632 272
WIRE 3632 496 3552 496
WIRE -416 560 -416 496
WIRE 2096 560 2096 496
WIRE 3552 560 3552 496
WIRE -752 720 -752 416
WIRE -416 720 -416 640
WIRE -416 720 -752 720
WIRE 240 720 240 448
WIRE 240 720 -416 720
WIRE 448 720 448 448
WIRE 448 720 240 720
WIRE 896 720 896 432
WIRE 896 720 448 720
WIRE 1040 720 896 720
WIRE 1248 720 1248 432
WIRE 1248 720 1040 720
WIRE 1392 720 1392 416
WIRE 1392 720 1248 720
WIRE 1584 720 1584 368
WIRE 1584 720 1392 720
WIRE 2096 720 2096 640
WIRE 2096 720 1584 720
WIRE 2960 720 2960 496
WIRE 2960 720 2096 720
WIRE 3280 720 3280 256
WIRE 3280 720 2960 720
WIRE 3552 720 3552 640
WIRE 3552 720 3280 720
WIRE 4064 720 4064 448
WIRE 4064 720 3552 720
WIRE 4272 720 4272 448
WIRE 4272 720 4064 720
WIRE 4528 720 4272 720
WIRE 4720 720 4720 432
WIRE 4720 720 4528 720
WIRE 5072 720 5072 432
WIRE 5072 720 4720 720
WIRE 5216 720 5216 416
WIRE 5216 720 5072 720
WIRE 5408 720 5408 368
WIRE 5408 720 5216 720
WIRE 1040 768 1040 720
WIRE 4528 768 4528 720
WIRE 4352 864 3984 864
WIRE 4880 864 4880 -96
WIRE 4880 864 4432 864
WIRE 224 976 -768 976
WIRE 432 976 224 976
WIRE 480 976 432 976
WIRE 864 976 480 976
WIRE 1232 976 864 976
WIRE 1568 976 1232 976
WIRE 224 1072 224 976
WIRE 432 1072 432 976
WIRE 864 1088 864 976
WIRE 864 1088 768 1088
WIRE 976 1088 864 1088
WIRE 1568 1088 1568 976
WIRE 768 1168 768 1088
WIRE 976 1168 976 1088
WIRE 1232 1168 1232 976
WIRE 864 1184 816 1184
WIRE 928 1184 864 1184
WIRE 1568 1264 1568 1168
WIRE 768 1312 768 1264
WIRE 864 1312 864 1184
WIRE 864 1312 768 1312
WIRE 976 1312 976 1264
WIRE 1040 1312 976 1312
WIRE 1072 1312 1040 1312
WIRE 1504 1312 1376 1312
WIRE 224 1328 224 1152
WIRE -272 1376 -496 1376
WIRE -112 1376 -272 1376
WIRE 160 1376 -32 1376
WIRE 432 1472 432 1152
WIRE 368 1520 144 1520
WIRE 768 1552 768 1312
WIRE 976 1552 976 1312
WIRE 1568 1584 1568 1360
WIRE 1648 1584 1568 1584
WIRE 1808 1584 1728 1584
WIRE 1232 1600 1232 1248
WIRE 1376 1600 1232 1600
WIRE 224 1632 224 1424
WIRE 720 1632 224 1632
WIRE 1104 1632 1024 1632
WIRE -272 1680 -352 1680
WIRE -112 1680 -272 1680
WIRE 64 1680 -32 1680
WIRE 144 1680 144 1520
WIRE 144 1680 64 1680
WIRE 432 1680 432 1568
WIRE 1104 1680 1104 1632
WIRE 1104 1680 432 1680
WIRE 1568 1696 1568 1584
WIRE 768 1712 768 1648
WIRE 880 1712 768 1712
WIRE 976 1712 976 1648
WIRE 976 1712 880 1712
WIRE 1232 1712 1232 1600
WIRE 1232 1712 1120 1712
WIRE -496 1744 -496 1376
WIRE -352 1744 -352 1680
WIRE 880 1744 880 1712
WIRE 1232 1744 1232 1712
WIRE 1376 1760 1376 1600
WIRE 224 1776 224 1632
WIRE 432 1776 432 1680
WIRE 1120 1824 1120 1712
WIRE 1120 1824 928 1824
WIRE 1184 1824 1120 1824
WIRE -496 1904 -496 1824
WIRE -432 1904 -496 1904
WIRE -352 1904 -352 1824
WIRE -352 1904 -432 1904
WIRE -432 1968 -432 1904
WIRE -432 2128 -432 2048
WIRE -432 2128 -768 2128
WIRE 224 2128 224 1856
WIRE 224 2128 -432 2128
WIRE 432 2128 432 1856
WIRE 432 2128 224 2128
WIRE 688 2128 432 2128
WIRE 880 2128 880 1840
WIRE 880 2128 688 2128
WIRE 1232 2128 1232 1840
WIRE 1232 2128 880 2128
WIRE 1376 2128 1376 1824
WIRE 1376 2128 1232 2128
WIRE 1568 2128 1568 1776
WIRE 1568 2128 1376 2128
WIRE 688 2176 688 2128
WIRE 64 2272 64 1680
WIRE 192 2272 64 2272
WIRE 512 2272 256 2272
WIRE 1040 2272 1040 1312
WIRE 1040 2272 592 2272
FLAG 1088 -96 OUT
FLAG 1040 768 0
FLAG -256 224 IN_P
FLAG -256 272 IN_N
FLAG 496 -432 VCC
FLAG 2256 -80 IN_P1
FLAG 2256 0 IN_N1
FLAG 3136 256 OUT1
FLAG 3632 -32 IN_CM
FLAG 1072 1312 OUT4
FLAG 688 2176 0
FLAG -272 1376 IN_P4
FLAG -272 1680 IN_N4
FLAG 480 976 VCC
FLAG 4912 -96 OUT_CM
FLAG 4528 768 0
FLAG 4320 -432 VCC
SYMBOL nmos 736 144 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL res 1232 -256 R0
SYMATTR InstName R1
SYMATTR Value {Ri}
SYMBOL nmos 1200 336 R0
SYMATTR InstName M2
SYMATTR Value 2N7002
SYMBOL nmos 944 336 M0
SYMATTR InstName M3
SYMATTR Value 2N7002
SYMBOL nmos 1040 144 M0
SYMATTR InstName M4
SYMATTR Value 2N7002
SYMBOL voltage -480 320 R0
WINDOW 3 -47 -133 VRight 2
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {Vdiff} {f_diff} 0 0 0)
SYMATTR Value2 AC 1
SYMATTR InstName V1
SYMBOL voltage -336 320 R0
WINDOW 3 -47 -145 VRight 2
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {Vdiff} {f_diff} 0 0 180)
SYMATTR Value2 AC 1 180
SYMATTR InstName V2
SYMBOL voltage -752 320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value {VCC}
SYMBOL res 1568 272 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL pmos 832 -144 R180
SYMATTR InstName M5
SYMATTR Value BSS84
SYMBOL pmos 944 -144 M180
SYMATTR InstName M6
SYMATTR Value BSS84
SYMBOL voltage -416 544 R0
WINDOW 3 -47 -145 VRight 2
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE({Vcm} {Vdd} 0 0 0 180)
SYMATTR InstName V4
SYMBOL res 112 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {Rin}
SYMBOL res -48 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {Rin}
SYMBOL npn2 1520 -144 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL res 1760 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 50k
SYMBOL res 1568 -336 R0
SYMATTR InstName R14
SYMATTR Value 100
SYMBOL res 1408 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL voltage 2032 320 R0
WINDOW 3 -47 -133 VRight 2
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {Vdiff} {f_diff} 0 0 0)
SYMATTR Value2 AC 1
SYMATTR InstName V5
SYMBOL voltage 2176 320 R0
WINDOW 3 -47 -145 VRight 2
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {Vdiff} {f_diff} 0 0 180)
SYMATTR Value2 AC 1 180
SYMATTR InstName V6
SYMBOL voltage 2096 544 R0
WINDOW 3 -47 -145 VRight 2
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE({Vcm} {Vdd} 5k 0 0 180)
SYMATTR InstName V7
SYMBOL res 2624 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {Rin}
SYMBOL res 2464 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {Rin}
SYMBOL pmos 3232 -192 M180
SYMATTR InstName M7
SYMATTR Value BSS84
SYMBOL res 3264 160 R0
SYMATTR InstName R5
SYMATTR Value {Ri}
SYMBOL pmos 2992 -192 R180
SYMATTR InstName M8
SYMATTR Value BSS84
SYMBOL pmos 2816 48 M180
SYMATTR InstName M9
SYMATTR Value BSS84
SYMBOL pmos 3088 48 R180
SYMATTR InstName M10
SYMATTR Value BSS84
SYMBOL pmos 2816 208 M180
SYMATTR InstName M11
SYMATTR Value BSS84
SYMBOL pmos 3088 208 R180
SYMATTR InstName M12
SYMATTR Value BSS84
SYMBOL nmos 2912 304 M0
SYMATTR InstName M15
SYMATTR Value 2N7002
SYMBOL nmos 2992 304 R0
SYMATTR InstName M16
SYMATTR Value 2N7002
SYMBOL cap 1376 352 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL res 432 352 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 224 352 R0
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL npn2 384 64 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL npn2 176 -80 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res 432 -352 R0
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL res 224 -352 R0
SYMATTR InstName R13
SYMATTR Value 100
SYMBOL voltage 3552 544 R0
WINDOW 3 -47 -145 VRight 2
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value PWL(0 0 5m 10)
SYMATTR Value2 AC 2
SYMATTR InstName V10
SYMBOL nmos 720 1552 R0
SYMATTR InstName M25
SYMATTR Value 2N7002
SYMBOL res 1216 1152 R0
SYMATTR InstName R26
SYMATTR Value {Ri}
SYMBOL nmos 1184 1744 R0
SYMATTR InstName M26
SYMATTR Value 2N7002
SYMBOL nmos 928 1744 M0
SYMATTR InstName M27
SYMATTR Value 2N7002
SYMBOL nmos 1024 1552 M0
SYMATTR InstName M28
SYMATTR Value 2N7002
SYMBOL voltage -496 1728 R0
WINDOW 3 -47 -133 VRight 2
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {Vdiff} {f_diff} 0 0 0)
SYMATTR Value2 AC 1
SYMATTR InstName V8
SYMBOL voltage -352 1728 R0
WINDOW 3 -47 -145 VRight 2
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {Vdiff} {f_diff} 0 0 180)
SYMATTR Value2 AC 1 180
SYMATTR InstName V9
SYMBOL res 1552 1680 R0
SYMATTR InstName R27
SYMATTR Value 1k
SYMBOL pmos 816 1264 R180
SYMATTR InstName M29
SYMATTR Value BSS84
SYMBOL pmos 928 1264 M180
SYMATTR InstName M30
SYMATTR Value BSS84
SYMBOL voltage -432 1952 R0
WINDOW 3 -47 -145 VRight 2
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE({Vcm} {Vdd} 0 0 0 180)
SYMATTR InstName V12
SYMBOL res -16 1664 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value {Rin}
SYMBOL res -16 1360 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value {Rin}
SYMBOL npn2 1504 1264 R0
SYMATTR InstName Q7
SYMATTR Value 2N3904
SYMBOL res 1744 1568 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R30
SYMATTR Value 50k
SYMBOL res 1552 1072 R0
SYMATTR InstName R31
SYMATTR Value 100
SYMBOL res 1392 1296 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 10k
SYMBOL cap 1360 1760 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL res 416 1760 R0
SYMATTR InstName R33
SYMATTR Value 5k
SYMBOL res 208 1760 R0
SYMATTR InstName R34
SYMATTR Value 5k
SYMBOL npn2 368 1472 R0
SYMATTR InstName Q8
SYMATTR Value 2N3904
SYMBOL npn2 160 1328 R0
SYMATTR InstName Q9
SYMATTR Value 2N3904
SYMBOL res 416 1056 R0
SYMATTR InstName R35
SYMATTR Value 100
SYMBOL res 208 1056 R0
SYMATTR InstName R36
SYMATTR Value 100
SYMBOL res 608 2256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R37
SYMATTR Value {10*Rin}
SYMBOL nmos 4560 144 R0
SYMATTR InstName M17
SYMATTR Value 2N7002
SYMBOL res 5056 -256 R0
SYMATTR InstName R15
SYMATTR Value {Ri}
SYMBOL nmos 5024 336 R0
SYMATTR InstName M18
SYMATTR Value 2N7002
SYMBOL nmos 4768 336 M0
SYMATTR InstName M19
SYMATTR Value 2N7002
SYMBOL nmos 4864 144 M0
SYMATTR InstName M20
SYMATTR Value 2N7002
SYMBOL res 5392 272 R0
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL pmos 4656 -144 R180
SYMATTR InstName M21
SYMATTR Value BSS84
SYMBOL pmos 4768 -144 M180
SYMATTR InstName M22
SYMATTR Value BSS84
SYMBOL res 3824 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value {Rin}
SYMBOL res 3824 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value {Rin}
SYMBOL npn2 5344 -144 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL res 5584 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 50k
SYMBOL res 5392 -336 R0
SYMATTR InstName R21
SYMATTR Value 100
SYMBOL res 5232 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 10k
SYMBOL cap 5200 352 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL res 4256 352 R0
SYMATTR InstName R23
SYMATTR Value 1k
SYMBOL res 4048 352 R0
SYMATTR InstName R24
SYMATTR Value 1k
SYMBOL npn2 4208 64 R0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL npn2 4000 -80 R0
SYMATTR InstName Q6
SYMATTR Value 2N3904
SYMBOL res 4256 -352 R0
SYMATTR InstName R25
SYMATTR Value 100
SYMBOL res 4048 -352 R0
SYMATTR InstName R38
SYMATTR Value 100
SYMBOL res 4448 848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R39
SYMATTR Value {10*Rin}
SYMBOL cap 256 2256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 1µ
TEXT -784 792 Left 2 ;.tran {10/f_diff}
TEXT -632 -320 Left 2 !.param VCC=10
TEXT -632 -288 Left 2 !.param Ri=250
TEXT -632 -256 Left 2 !.param Vcm=6.59
TEXT -632 -224 Left 2 !.param Vdiff=10m
TEXT -360 -64 Left 2 !.step param f_diff 1k 1001k 100k
TEXT -632 -192 Left 2 !.param Vdd=10m
TEXT -784 816 Left 2 !.ac dec 100 1u 1000mega
TEXT -632 -160 Left 2 !.param Lb=3m
TEXT -728 -816 Left 2 ;A databook with tons of good design info:\nhttp://www.bitsavers.org/components/ti/_dataBooks/1974_TI_Linear_and_Interface_Circuits_Applications.pdf\nhttp://www.bitsavers.org/components/ti/_dataBooks/1977_TI_Memory_Interface_Data_Book.pdf\n \nSpecifically:\n- DC termination on the intput of about 100ohm (external)\n- Input bias current of 25-50uA\n \nWe seem to be meeting these...\n \n- Thershold accuracy of about 1-3mV\n- (They) depending on resistor ratios to achieve that.\n- (They) don't use window-comparators
TEXT -632 -128 Left 2 !.param Rin=10k
TEXT 536 -640 Left 2 ;Common current source needs about 2.5V to operate\nTop current mirror needs about 1.2V to operate\nAs such, 5V operation is not really possible.
TEXT -632 -64 Left 2 !.param f_diff=1
